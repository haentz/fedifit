CREATE TABLE `tuser` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `email` varchar(255) NOT NULL,
  `name` varchar(255) NOT NULL,
  `logintoken` char(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `logintokencreationdate` datetime DEFAULT NULL,
  `creationdate` datetime NOT NULL,
  `image` char(32) DEFAULT NULL,
  `strava_athlete_id` int DEFAULT NULL,
  `strava_refresh_token` varchar(255) DEFAULT NULL,
  `strava_access_token` varchar(255) DEFAULT NULL,
  `strava_access_token_expirationdate` datetime DEFAULT NULL,
  `confirmed` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `email` (`email`),
  UNIQUE KEY `name` (`name`),
  UNIQUE KEY `logintoken` (`logintoken`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `tactivity` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `creationdate` datetime NOT NULL,
  `fkiduser` int unsigned NOT NULL,
  `strava_activity_id` bigint unsigned NOT NULL,
  `heroImage` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `text` varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `released` tinyint(1) NOT NULL,
  `downloaded` tinyint(1) NOT NULL,
  `like` int NOT NULL,
  `announce` int NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unq_strava_activity_id` (`strava_activity_id`),
  UNIQUE KEY `unq_heroimage` (`heroImage`),
  KEY `iduser` (`fkiduser`)
) ENGINE=InnoDB AUTO_INCREMENT=176 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;



CREATE TABLE `tkeys` (
  `id` int unsigned NOT NULL AUTO_INCREMENT,
  `fkiduser` int unsigned NOT NULL,
  `privatekey` varchar(1704) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  `publickey` varchar(451) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci NOT NULL,
  PRIMARY KEY (`id`),
  KEY `fkiduser` (`fkiduser`),
  CONSTRAINT `fkiduser` FOREIGN KEY (`fkiduser`) REFERENCES `tuser` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;